<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Marco Moroni</title>
  <meta name="description" content="Ciao, here's my portfolio.">
  <meta name="viewport" content="width=device-width, maximum-scale=1, minimum-scale=1" />
  <link rel="stylesheet" href="/portfolio/styles/default.css">
  <link rel="stylesheet" href="/portfolio/styles/home.css">
  <link rel="stylesheet" href="/portfolio/styles/screen_size.css">
  <link rel="icon" href="https://github.com/marcomoroni.png?size=16">
  <link href="https://fonts.googleapis.com/css?family=Muli:300,300i,400,900,900i" rel="stylesheet">
  <!-- <link href="https://fonts.googleapis.com/css?family=Cutive+Mono" rel="stylesheet"> -->
  <link href="https://fonts.googleapis.com/css?family=Overpass+Mono" rel="stylesheet">
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
</head>

<body>
  <a class="top_home_button" href="/portfolio/" title="Home"></a>
  <div class="nav_dots">
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div class="current"></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
    
    <div></div>
    
  
</div>


<div class="spacer_top"></div>

<div class="container">

  <div style="margin: auto; max-width: 380px; margin-bottom: 1em;">
    <div class="tags_list">

  

    
      <div class="tag">
  <p>graphics</p>
</div>

    
      <div class="tag">
  <p>parallel programming</p>
</div>

    
      <div class="tag">
  <p>C++</p>
</div>

    

  

</div>

  </div>
  <div class="abstract">
  
  <p>A parallel ray tracer.</p>
  
</div>


</div>

<div class="space_between_abstract_and_content"></div>

<div class="container post">

  

  <p><img src="/portfolio/assets/raytracer/ray02.jpg" alt="" /></p>

<p>Future shines bright for ray tracers, and although the theory behind them is fairly simple, they are magnificently <em>slow</em>.</p>

<!--<div style="background-color: red; height: 40px; width: calc(100vw - 40px); position: relative; left: 50%; margin-left: calc(-50vw + 20px); margin-bottom: 2.8em; margin-top: 2.8em;">
</div>-->

<p>I investigated different parallelization ways to speed up a path tracer. I used <em><a href="http://www.kevinbeason.com/smallpt/">smallpt</a></em> as a base, but to keep it as simple as possible I removed unnecessary features such as pixel subdivision and tent filter.</p>

<p>The two methods that I implemented are <a href="https://www.openmp.org/">OpenMP</a> for CPU parallelization and <a href="https://developer.nvidia.com/cuda-zone">CUDA</a> for GPU parallelization. They both target the loop that iterates through all the pixels.</p>

<p>You can already find an OpenMP in <em>samllpt</em>, and it consists in one single line. CUDA implementation took a bit more effort, especially because when you put too much data into the GPU there’s no easy way to tell whether it’s going to crash. It just happens.</p>

<p>By the end, an image with a resolution of 1024 × 768 pixels with 100 samples per pixel took:</p>

<ul>
  <li>94 seconds with sequential code</li>
  <li>15 seconds with OpenMP</li>
  <li>2 seconds with CUDA</li>
</ul>

<p>The repo is below and it also contains a detailed report of the work:</p>

<p class="buttons_in_blog_text"><a href="https://github.com/marcomoroni/set10108">Source code</a></p>


  <div class="bottom_navigation_buttons">

    <!-- Can be with or without accent colour, and when not hover can or cannot have the background.
normal / nil : accent colour, no background when no hover
important : accent colour, backround when no hover -->


  <a class=button href=/portfolio/>Home</a>



    
      <!-- Can be with or without accent colour, and when not hover can or cannot have the background.
normal / nil : accent colour, no background when no hover
important : accent colour, backround when no hover -->


  <a class=button href=/portfolio/clock/>Next   &#10230;</a>


    

  </div>

</div>

<div class="spacer_bottom"></div>

<script>
  // Add the post date to the first paragraph that does not contain an image
  var container = document.getElementsByClassName("container post")[0];
  var ps = container.getElementsByTagName("p");
  for (i = 0; i < ps.length; i++)
  {
    if (ps[i].getElementsByTagName("img").length < 1)
    {
      var txt = "December 2018"
      
      txt += "\xa0\xa0\xa0&#92;&#92;&#92;\xa0\xa0\xa0";

      ps[i].insertAdjacentHTML("afterbegin", txt);

      break;
    }
  }
</script>

  <div class="modal"><img class="modal-content"></div>
  <script src="/portfolio/assets/scripts/modal.js"></script>
  <script src="/portfolio/assets/scripts/typewriter.js"></script>
</body>
